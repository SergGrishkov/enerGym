{"version":3,"file":"commonHelpers.js","sources":["../src/helpers/render.js","../src/js/favorites.js"],"sourcesContent":["import { firstLetterToUpper } from './utils';\n\nexport function renderFavoriteCards(arrayCards) {\n  if (arrayCards) {\n    return arrayCards.reduce((acc, prev) => {\n      return (\n        acc +\n        `\n    <li class=\"favorite-item\" data-exerciseId=\"${prev._id}\">\n                <div class=\"favorite-label-drop-start\">\n                    <p class=\"favorite-label-workout\">WORKOUT</p>\n                    <button class=\"favorite-remove-btn\">\n                        <svg class=\"remove-favorites\" width=\"16\" height=\"16\" aria-label=\"icon-bucket\">\n                          <use href=\"./sprite.svg#icon-remove-favorites\"></use>\n                        </svg>\n                    </button>\n                    <button class=\"favorite-start-btn\">Start\n                        <svg class=\"favorites-icon\" width=\"14\" height=\"14\" aria-label=\"start-arrow\">\n                            <use href=\"./sprite.svg#icon-exercises-arrow\"></use>\n                        </svg>\n                    </button>\n                </div>\n                <div class=\"favorite-label-icon-run\">\n                    <svg class=\"favorite-icon-run\" width=\"24\" height=\"24\" aria-label=\"icon-bucket\">\n                        <use href=\"./sprite.svg#icon-exercises-man\"></use>\n                    </svg>\n                    <p>${firstLetterToUpper(prev.name)}</p>\n                </div>\n                <div class=\"favorite-label-burn\">\n                    <p>Burned calories:</p>\n                    <span>${prev.burnedCalories} / ${prev.time} min</span>\n                    <p>Body part:</p>\n                    <span>${firstLetterToUpper(prev.bodyPart)}</span>\n                    <p>Target:</p>\n                    <span>${firstLetterToUpper(prev.target)}</span>\n                </div>\n            </li>\n    `\n      );\n    }, '');\n  } else {\n    return `\n    <div class=\"missing-cards\">\n            <img src=\"./img/favorites/dumbbell@1x.png\" alt=\"dumbbell\">\n            <p>It appears that you haven't added any exercises to your favorites yet. To get started, you can add\n                exercises that you\n                like to your favorites for easier access in the future.</p>\n        </div>\n    `;\n  }\n}\n","import { ExercisesController } from '../api/controllers/ExercisesController.js';\nimport { renderFavoriteCards } from '../helpers/render.js';\nimport {\n  getFavoritCardsFromLocalStorage,\n  isExerciseInFavorite,\n  removeExerciseFromFavoriteById,\n} from '../helpers/locatStorage.js';\n// import { createMarkupModalEx } from './modal-exercise.js';\n\nconst exerciseCntrl = new ExercisesController();\nlet exercise;\n\nconst listFavorites = document.querySelector(\n  '.favorites-container-content-items'\n);\n\ndocument.addEventListener('DOMContentLoaded', async () => {\n  const favoriteInfoLs = renderFavoriteCards(getFavoritCardsFromLocalStorage());\n  listFavorites.innerHTML = favoriteInfoLs;\n  exercise = await exerciseCntrl.init();\n});\n\nconst handleRemoveExercise = listFavorites.addEventListener(\n  'click',\n  async e => {\n    // e.preventDefault();\n\n    if (\n      e.target.ariaLabel !== 'icon-bucket' &&\n      e.target.className !== 'favorite-remove-btn' &&\n      e.target.className !== 'favorite-start-btn' &&\n      e.target.ariaLabel !== 'start-arrow'\n    )\n      return;\n\n    let id = Object.values(e.target.closest('[data-exerciseId]').dataset)[0];\n\n    if (\n      e.target.ariaLabel === 'icon-bucket' ||\n      e.target.className === 'favorite-remove-btn'\n    ) {\n      // let id = Object.values(e.target.closest('[data-exerciseId]').dataset)[0];\n      try {\n        if (isExerciseInFavorite(id)) {\n          removeExerciseFromFavoriteById(id);\n          document.querySelector(`[data-exerciseId=\"${id}\"]`).remove();\n        }\n        window.location.reload();\n      } catch (error) {\n        console.log(`Exercise with ${id} can't be removed`, error);\n      }\n    }\n\n    if (\n      e.target.className === 'favorite-start-btn' ||\n      e.target.ariaLabel === 'start-arrow'\n    ) {\n      const exerciseInfo = await exercise.getExerciseById(id);\n      console.log(exerciseInfo.json());\n      // createMarkupModalEx(exerciseInfo.json());\n    }\n  }\n);\n// example function for buttons with listener\n\n// const buttonRemoveFavotites = document.querySelector('.class');\n\n// function clickButton() {\n\n// }\n\n// buttonRemoveFavotites.addEventListener('click', clickButton);\n\n//******************************************************************* */\n\n// const buttonStart = document.querySelector('.class');\n\n// function clickButton() {\n\n// }\n\n// buttonStart.addEventListener('click', clickButton);\n"],"names":["renderFavoriteCards","arrayCards","acc","prev","firstLetterToUpper","exerciseCntrl","ExercisesController","exercise","listFavorites","favoriteInfoLs","getFavoritCardsFromLocalStorage","id","isExerciseInFavorite","removeExerciseFromFavoriteById","error","exerciseInfo"],"mappings":"+GAEO,SAASA,EAAoBC,EAAY,CAC9C,OAAIA,EACKA,EAAW,OAAO,CAACC,EAAKC,IAE3BD,EACA;AAAA,iDACyCC,EAAK,GAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAkBhCC,EAAmBD,EAAK,IAAI,CAAC;AAAA;AAAA;AAAA;AAAA,4BAI1BA,EAAK,cAAc,MAAMA,EAAK,IAAI;AAAA;AAAA,4BAElCC,EAAmBD,EAAK,QAAQ,CAAC;AAAA;AAAA,4BAEjCC,EAAmBD,EAAK,MAAM,CAAC;AAAA;AAAA;AAAA,MAKpD,EAAE,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KASX,CCzCA,MAAME,EAAgB,IAAIC,EAC1B,IAAIC,EAEJ,MAAMC,EAAgB,SAAS,cAC7B,oCACF,EAEA,SAAS,iBAAiB,mBAAoB,SAAY,CACxD,MAAMC,EAAiBT,EAAoBU,EAA+B,CAAE,EAC5EF,EAAc,UAAYC,EAC1BF,EAAW,MAAMF,EAAc,MACjC,CAAC,EAE4BG,EAAc,iBACzC,QACA,MAAM,GAAK,CAGT,GACE,EAAE,OAAO,YAAc,eACvB,EAAE,OAAO,YAAc,uBACvB,EAAE,OAAO,YAAc,sBACvB,EAAE,OAAO,YAAc,cAEvB,OAEF,IAAIG,EAAK,OAAO,OAAO,EAAE,OAAO,QAAQ,mBAAmB,EAAE,OAAO,EAAE,CAAC,EAEvE,GACE,EAAE,OAAO,YAAc,eACvB,EAAE,OAAO,YAAc,sBAGvB,GAAI,CACEC,EAAqBD,CAAE,IACzBE,EAA+BF,CAAE,EACjC,SAAS,cAAc,qBAAqBA,CAAE,IAAI,EAAE,UAEtD,OAAO,SAAS,QACjB,OAAQG,EAAO,CACd,QAAQ,IAAI,iBAAiBH,CAAE,oBAAqBG,CAAK,CAC1D,CAGH,GACE,EAAE,OAAO,YAAc,sBACvB,EAAE,OAAO,YAAc,cACvB,CACA,MAAMC,EAAe,MAAMR,EAAS,gBAAgBI,CAAE,EACtD,QAAQ,IAAII,EAAa,KAAM,CAAA,CAEhC,CACF,CACH"}